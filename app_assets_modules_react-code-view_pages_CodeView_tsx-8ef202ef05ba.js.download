// src/components/AssetLoader.jsx
import React from 'react';

/**
 * Dynamically loads an asset (image, JSON, etc.)
 * @param {string} path - Relative path to the asset from /public or /src/assets
 * @param {string} alt - Alt text for images
 * @returns JSX.Element
 */
const AssetLoader = ({ path, alt = 'Asset' }) => {
  let assetSrc;

  try {
    // Try importing from /src/assets (Webpack or Vite)
    assetSrc = require(`../assets/${path}`);
  } catch (e) {
    // Fallback to /public directory (served directly by Vite/Webpack)
    assetSrc = `${process.env.PUBLIC_URL || ''}/${path}`;
  }

  // Check if it's an image (basic check)
  const isImage = /\.(png|jpe?g|gif|svg|webp)$/.test(path);

  return isImage ? (
    <img src={assetSrc} alt={alt} style={{ maxWidth: '100%' }} />
  ) : (
    <p>Asset: <a href={assetSrc} target="_blank" rel="noopener noreferrer">{path}</a></p>
  );
};

export default AssetLoader;
